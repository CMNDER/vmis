{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/samuel/vmis-1/src/Components/Try.js\";\nimport React from \"react\";\n\nconst View = () => {\n  const data = [{\n    requestvaccineid: \"2\",\n    vaccinename: \"BCG\",\n    requestid: \"2\",\n    quantityrequested: \"32\",\n    child_vaccination_number: \"32\",\n    from_source_orgunit_name: \"Kacyiru Sub District\",\n    from_source_orgunitrequestid: \"NZxGSK1rg1c\",\n    to_source_orgunit_name: \"Rwanda\",\n    to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n    status: \"PENDING\",\n    date: \"2020-11-18T22:00:00.000Z\"\n  }, {\n    requestvaccineid: \"3\",\n    vaccinename: \"DMR\",\n    requestid: \"2\",\n    quantityrequested: \"12\",\n    child_vaccination_number: \"21\",\n    from_source_orgunit_name: \"Kacyiru Sub District\",\n    from_source_orgunitrequestid: \"NZxGSK1rg1c\",\n    to_source_orgunit_name: \"Rwanda\",\n    to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n    status: \"PENDING\",\n    date: \"2020-11-18T22:00:00.000Z\"\n  }, {\n    requestvaccineid: \"4\",\n    vaccinename: \"DMR\",\n    requestid: \"4\",\n    quantityrequested: \"21\",\n    child_vaccination_number: \"21\",\n    from_source_orgunit_name: \"Kacyiru Sub District\",\n    from_source_orgunitrequestid: \"NZxGSK1rg1c\",\n    to_source_orgunit_name: \"Rwanda\",\n    to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n    status: \"PENDING\",\n    date: \"2020-11-18T22:00:00.000Z\"\n  }, {\n    requestvaccineid: \"5\",\n    vaccinename: \"BCG\",\n    requestid: \"5\",\n    quantityrequested: \"21\",\n    child_vaccination_number: \"12\",\n    from_source_orgunit_name: \"Kacyiru Sub District\",\n    from_source_orgunitrequestid: \"NZxGSK1rg1c\",\n    to_source_orgunit_name: \"Rwanda\",\n    to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n    status: \"PENDING\",\n    date: \"2020-11-18T22:00:00.000Z\"\n  }, {\n    requestvaccineid: \"6\",\n    vaccinename: \"DMR\",\n    requestid: \"7\",\n    quantityrequested: \"22\",\n    child_vaccination_number: \"11\",\n    from_source_orgunit_name: \"Kacyiru Sub District\",\n    from_source_orgunitrequestid: \"NZxGSK1rg1c\",\n    to_source_orgunit_name: \"Rwanda\",\n    to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n    status: \"PENDING\",\n    date: \"2020-11-18T22:00:00.000Z\"\n  }, {\n    requestvaccineid: \"7\",\n    vaccinename: \"DMR\",\n    requestid: \"10\",\n    quantityrequested: \"45\",\n    child_vaccination_number: \"12\",\n    from_source_orgunit_name: \"Nyabizi HP\",\n    from_source_orgunitrequestid: \"AJjh2qrFJf3\",\n    to_source_orgunit_name: \"Rwanda\",\n    to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n    status: \"PENDING\",\n    date: \"2020-11-19T22:00:00.000Z\"\n  }, {\n    requestvaccineid: \"8\",\n    vaccinename: \"BCG\",\n    requestid: \"10\",\n    quantityrequested: \"32\",\n    child_vaccination_number: \"45\",\n    from_source_orgunit_name: \"Nyabizi HP\",\n    from_source_orgunitrequestid: \"AJjh2qrFJf3\",\n    to_source_orgunit_name: \"Rwanda\",\n    to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n    status: \"PENDING\",\n    date: \"2020-11-19T22:00:00.000Z\"\n  }];\n  let x = [];\n\n  const pickAllConstraints = arr => {\n    let constraints = [];\n    arr.forEach(el => {\n      const keys = Object.keys(el);\n      constraints = [...constraints, ...keys];\n    });\n    return constraints.filter((el, ind) => el !== 'requestid' && ind === constraints.lastIndexOf(el));\n  };\n\n  const buildItem = (cons, el = {}, prev = {}) => {\n    const item = {};\n    let total = 0;\n    cons.forEach(i => {\n      item[i] = (+el[i] || 0) + (+prev[i] || 0);\n      total += item[i];\n    });\n    item.total = total;\n    return item;\n  };\n\n  const buildCumulativeArray = arr => {\n    const constraints = pickAllConstraints(arr);\n    const map = {},\n          res = [];\n    arr.forEach(el => {\n      const {\n        requestid\n      } = el;\n\n      if (map.hasOwnProperty(requestid)) {\n        res[map[requestid] - 1] = {\n          requestid,\n          ...buildItem(constraints, el, res[map[requestid] - 1])\n        };\n      } else {\n        map[requestid] = res.push({\n          requestid,\n          ...buildItem(constraints, el)\n        });\n      }\n    });\n    return res;\n  };\n\n  console.log(buildCumulativeArray(data));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Hello\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 12\n  }, this);\n};\n\n_c = View;\nexport default View;\n\nvar _c;\n\n$RefreshReg$(_c, \"View\");","map":{"version":3,"sources":["/home/samuel/vmis-1/src/Components/Try.js"],"names":["React","View","data","requestvaccineid","vaccinename","requestid","quantityrequested","child_vaccination_number","from_source_orgunit_name","from_source_orgunitrequestid","to_source_orgunit_name","to_source_orgunitrequestid","status","date","x","pickAllConstraints","arr","constraints","forEach","el","keys","Object","filter","ind","lastIndexOf","buildItem","cons","prev","item","total","i","buildCumulativeArray","map","res","hasOwnProperty","push","console","log"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,MAAMC,IAAI,GAAG,MAAM;AACf,QAAMC,IAAI,GAAG,CACT;AACIC,IAAAA,gBAAgB,EAAE,GADtB;AAEIC,IAAAA,WAAW,EAAE,KAFjB;AAGIC,IAAAA,SAAS,EAAE,GAHf;AAIIC,IAAAA,iBAAiB,EAAE,IAJvB;AAKIC,IAAAA,wBAAwB,EAAE,IAL9B;AAMIC,IAAAA,wBAAwB,EAAE,sBAN9B;AAOIC,IAAAA,4BAA4B,EAAE,aAPlC;AAQIC,IAAAA,sBAAsB,EAAE,QAR5B;AASIC,IAAAA,0BAA0B,EAAE,aAThC;AAUIC,IAAAA,MAAM,EAAE,SAVZ;AAWIC,IAAAA,IAAI,EAAE;AAXV,GADS,EAcT;AACIV,IAAAA,gBAAgB,EAAE,GADtB;AAEIC,IAAAA,WAAW,EAAE,KAFjB;AAGIC,IAAAA,SAAS,EAAE,GAHf;AAIIC,IAAAA,iBAAiB,EAAE,IAJvB;AAKIC,IAAAA,wBAAwB,EAAE,IAL9B;AAMIC,IAAAA,wBAAwB,EAAE,sBAN9B;AAOIC,IAAAA,4BAA4B,EAAE,aAPlC;AAQIC,IAAAA,sBAAsB,EAAE,QAR5B;AASIC,IAAAA,0BAA0B,EAAE,aAThC;AAUIC,IAAAA,MAAM,EAAE,SAVZ;AAWIC,IAAAA,IAAI,EAAE;AAXV,GAdS,EA2BT;AACIV,IAAAA,gBAAgB,EAAE,GADtB;AAEIC,IAAAA,WAAW,EAAE,KAFjB;AAGIC,IAAAA,SAAS,EAAE,GAHf;AAIIC,IAAAA,iBAAiB,EAAE,IAJvB;AAKIC,IAAAA,wBAAwB,EAAE,IAL9B;AAMIC,IAAAA,wBAAwB,EAAE,sBAN9B;AAOIC,IAAAA,4BAA4B,EAAE,aAPlC;AAQIC,IAAAA,sBAAsB,EAAE,QAR5B;AASIC,IAAAA,0BAA0B,EAAE,aAThC;AAUIC,IAAAA,MAAM,EAAE,SAVZ;AAWIC,IAAAA,IAAI,EAAE;AAXV,GA3BS,EAwCT;AACIV,IAAAA,gBAAgB,EAAE,GADtB;AAEIC,IAAAA,WAAW,EAAE,KAFjB;AAGIC,IAAAA,SAAS,EAAE,GAHf;AAIIC,IAAAA,iBAAiB,EAAE,IAJvB;AAKIC,IAAAA,wBAAwB,EAAE,IAL9B;AAMIC,IAAAA,wBAAwB,EAAE,sBAN9B;AAOIC,IAAAA,4BAA4B,EAAE,aAPlC;AAQIC,IAAAA,sBAAsB,EAAE,QAR5B;AASIC,IAAAA,0BAA0B,EAAE,aAThC;AAUIC,IAAAA,MAAM,EAAE,SAVZ;AAWIC,IAAAA,IAAI,EAAE;AAXV,GAxCS,EAqDT;AACIV,IAAAA,gBAAgB,EAAE,GADtB;AAEIC,IAAAA,WAAW,EAAE,KAFjB;AAGIC,IAAAA,SAAS,EAAE,GAHf;AAIIC,IAAAA,iBAAiB,EAAE,IAJvB;AAKIC,IAAAA,wBAAwB,EAAE,IAL9B;AAMIC,IAAAA,wBAAwB,EAAE,sBAN9B;AAOIC,IAAAA,4BAA4B,EAAE,aAPlC;AAQIC,IAAAA,sBAAsB,EAAE,QAR5B;AASIC,IAAAA,0BAA0B,EAAE,aAThC;AAUIC,IAAAA,MAAM,EAAE,SAVZ;AAWIC,IAAAA,IAAI,EAAE;AAXV,GArDS,EAkET;AACIV,IAAAA,gBAAgB,EAAE,GADtB;AAEIC,IAAAA,WAAW,EAAE,KAFjB;AAGIC,IAAAA,SAAS,EAAE,IAHf;AAIIC,IAAAA,iBAAiB,EAAE,IAJvB;AAKIC,IAAAA,wBAAwB,EAAE,IAL9B;AAMIC,IAAAA,wBAAwB,EAAE,YAN9B;AAOIC,IAAAA,4BAA4B,EAAE,aAPlC;AAQIC,IAAAA,sBAAsB,EAAE,QAR5B;AASIC,IAAAA,0BAA0B,EAAE,aAThC;AAUIC,IAAAA,MAAM,EAAE,SAVZ;AAWIC,IAAAA,IAAI,EAAE;AAXV,GAlES,EA+ET;AACIV,IAAAA,gBAAgB,EAAE,GADtB;AAEIC,IAAAA,WAAW,EAAE,KAFjB;AAGIC,IAAAA,SAAS,EAAE,IAHf;AAIIC,IAAAA,iBAAiB,EAAE,IAJvB;AAKIC,IAAAA,wBAAwB,EAAE,IAL9B;AAMIC,IAAAA,wBAAwB,EAAE,YAN9B;AAOIC,IAAAA,4BAA4B,EAAE,aAPlC;AAQIC,IAAAA,sBAAsB,EAAE,QAR5B;AASIC,IAAAA,0BAA0B,EAAE,aAThC;AAUIC,IAAAA,MAAM,EAAE,SAVZ;AAWIC,IAAAA,IAAI,EAAE;AAXV,GA/ES,CAAb;AA6FA,MAAIC,CAAC,GAAG,EAAR;;AACA,QAAMC,kBAAkB,GAAGC,GAAG,IAAI;AAC9B,QAAIC,WAAW,GAAG,EAAlB;AACAD,IAAAA,GAAG,CAACE,OAAJ,CAAYC,EAAE,IAAI;AACf,YAAMC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYD,EAAZ,CAAb;AACAF,MAAAA,WAAW,GAAG,CAAC,GAAGA,WAAJ,EAAiB,GAAGG,IAApB,CAAd;AACF,KAHD;AAIA,WAAOH,WAAW,CAACK,MAAZ,CAAmB,CAACH,EAAD,EAAKI,GAAL,KAAaJ,EAAE,KAAK,WAAP,IAAsBI,GAAG,KAAKN,WAAW,CAACO,WAAZ,CAAwBL,EAAxB,CAA9D,CAAP;AACF,GAPF;;AAQC,QAAMM,SAAS,GAAG,CAACC,IAAD,EAAOP,EAAE,GAAG,EAAZ,EAAgBQ,IAAI,GAAG,EAAvB,KAA8B;AAC7C,UAAMC,IAAI,GAAG,EAAb;AACA,QAAIC,KAAK,GAAG,CAAZ;AACAH,IAAAA,IAAI,CAACR,OAAL,CAAaY,CAAC,IAAI;AACfF,MAAAA,IAAI,CAACE,CAAD,CAAJ,GAAU,CAAC,CAACX,EAAE,CAACW,CAAD,CAAH,IAAU,CAAX,KAAiB,CAACH,IAAI,CAACG,CAAD,CAAL,IAAY,CAA7B,CAAV;AACAD,MAAAA,KAAK,IAAID,IAAI,CAACE,CAAD,CAAb;AACF,KAHD;AAIAF,IAAAA,IAAI,CAACC,KAAL,GAAaA,KAAb;AACA,WAAOD,IAAP;AACF,GATD;;AAUA,QAAMG,oBAAoB,GAAGf,GAAG,IAAI;AACjC,UAAMC,WAAW,GAAGF,kBAAkB,CAACC,GAAD,CAAtC;AACA,UAAMgB,GAAG,GAAG,EAAZ;AAAA,UAAgBC,GAAG,GAAG,EAAtB;AACAjB,IAAAA,GAAG,CAACE,OAAJ,CAAYC,EAAE,IAAI;AACf,YAAM;AAAEd,QAAAA;AAAF,UAAgBc,EAAtB;;AACA,UAAGa,GAAG,CAACE,cAAJ,CAAmB7B,SAAnB,CAAH,EAAiC;AAC9B4B,QAAAA,GAAG,CAACD,GAAG,CAAC3B,SAAD,CAAH,GAAiB,CAAlB,CAAH,GAA0B;AACvBA,UAAAA,SADuB;AACZ,aAAGoB,SAAS,CAACR,WAAD,EAAcE,EAAd,EAAkBc,GAAG,CAACD,GAAG,CAAC3B,SAAD,CAAH,GAAiB,CAAlB,CAArB;AADA,SAA1B;AAGF,OAJD,MAIK;AACF2B,QAAAA,GAAG,CAAC3B,SAAD,CAAH,GAAiB4B,GAAG,CAACE,IAAJ,CAAS;AACvB9B,UAAAA,SADuB;AACZ,aAAGoB,SAAS,CAACR,WAAD,EAAcE,EAAd;AADA,SAAT,CAAjB;AAGF;AACH,KAXD;AAYA,WAAOc,GAAP;AACF,GAhBD;;AAiBAG,EAAAA,OAAO,CAACC,GAAR,CAAYN,oBAAoB,CAAC7B,IAAD,CAAhC;AACD,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,CApID;;KAAMD,I;AAqIN,eAAeA,IAAf","sourcesContent":["import React from \"react\";\nconst View = () => {\n    const data = [\n        {\n            requestvaccineid: \"2\",\n            vaccinename: \"BCG\",\n            requestid: \"2\",\n            quantityrequested: \"32\",\n            child_vaccination_number: \"32\",\n            from_source_orgunit_name: \"Kacyiru Sub District\",\n            from_source_orgunitrequestid: \"NZxGSK1rg1c\",\n            to_source_orgunit_name: \"Rwanda\",\n            to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n            status: \"PENDING\",\n            date: \"2020-11-18T22:00:00.000Z\"\n        },\n        {\n            requestvaccineid: \"3\",\n            vaccinename: \"DMR\",\n            requestid: \"2\",\n            quantityrequested: \"12\",\n            child_vaccination_number: \"21\",\n            from_source_orgunit_name: \"Kacyiru Sub District\",\n            from_source_orgunitrequestid: \"NZxGSK1rg1c\",\n            to_source_orgunit_name: \"Rwanda\",\n            to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n            status: \"PENDING\",\n            date: \"2020-11-18T22:00:00.000Z\"\n        },\n        {\n            requestvaccineid: \"4\",\n            vaccinename: \"DMR\",\n            requestid: \"4\",\n            quantityrequested: \"21\",\n            child_vaccination_number: \"21\",\n            from_source_orgunit_name: \"Kacyiru Sub District\",\n            from_source_orgunitrequestid: \"NZxGSK1rg1c\",\n            to_source_orgunit_name: \"Rwanda\",\n            to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n            status: \"PENDING\",\n            date: \"2020-11-18T22:00:00.000Z\"\n        },\n        {\n            requestvaccineid: \"5\",\n            vaccinename: \"BCG\",\n            requestid: \"5\",\n            quantityrequested: \"21\",\n            child_vaccination_number: \"12\",\n            from_source_orgunit_name: \"Kacyiru Sub District\",\n            from_source_orgunitrequestid: \"NZxGSK1rg1c\",\n            to_source_orgunit_name: \"Rwanda\",\n            to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n            status: \"PENDING\",\n            date: \"2020-11-18T22:00:00.000Z\"\n        },\n        {\n            requestvaccineid: \"6\",\n            vaccinename: \"DMR\",\n            requestid: \"7\",\n            quantityrequested: \"22\",\n            child_vaccination_number: \"11\",\n            from_source_orgunit_name: \"Kacyiru Sub District\",\n            from_source_orgunitrequestid: \"NZxGSK1rg1c\",\n            to_source_orgunit_name: \"Rwanda\",\n            to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n            status: \"PENDING\",\n            date: \"2020-11-18T22:00:00.000Z\"\n        },\n        {\n            requestvaccineid: \"7\",\n            vaccinename: \"DMR\",\n            requestid: \"10\",\n            quantityrequested: \"45\",\n            child_vaccination_number: \"12\",\n            from_source_orgunit_name: \"Nyabizi HP\",\n            from_source_orgunitrequestid: \"AJjh2qrFJf3\",\n            to_source_orgunit_name: \"Rwanda\",\n            to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n            status: \"PENDING\",\n            date: \"2020-11-19T22:00:00.000Z\"\n        },\n        {\n            requestvaccineid: \"8\",\n            vaccinename: \"BCG\",\n            requestid: \"10\",\n            quantityrequested: \"32\",\n            child_vaccination_number: \"45\",\n            from_source_orgunit_name: \"Nyabizi HP\",\n            from_source_orgunitrequestid: \"AJjh2qrFJf3\",\n            to_source_orgunit_name: \"Rwanda\",\n            to_source_orgunitrequestid: \"Hjw70Lodtf2\",\n            status: \"PENDING\",\n            date: \"2020-11-19T22:00:00.000Z\"\n        }\n    ];\n    let x = [];\n    const pickAllConstraints = arr => {\n        let constraints = [];\n        arr.forEach(el => {\n           const keys = Object.keys(el);\n           constraints = [...constraints, ...keys];\n        });\n        return constraints.filter((el, ind) => el !== 'requestid' && ind === constraints.lastIndexOf(el));\n     };\n     const buildItem = (cons, el = {}, prev = {}) => {\n        const item = {};\n        let total = 0\n        cons.forEach(i => {\n           item[i] = (+el[i] || 0) + (+prev[i] || 0);\n           total += item[i];\n        });\n        item.total = total;\n        return item;\n     }\n     const buildCumulativeArray = arr => {\n        const constraints = pickAllConstraints(arr);\n        const map = {}, res = [];\n        arr.forEach(el => {\n           const { requestid } = el;\n           if(map.hasOwnProperty(requestid)){\n              res[map[requestid] - 1] = {\n                 requestid, ...buildItem(constraints, el, res[map[requestid] - 1])\n              };\n           }else{\n              map[requestid] = res.push({\n                 requestid, ...buildItem(constraints, el)\n              });\n           }\n        });\n        return res;\n     };\n     console.log(buildCumulativeArray(data));\n    return <div>Hello</div>;\n};\nexport default View;\n"]},"metadata":{},"sourceType":"module"}