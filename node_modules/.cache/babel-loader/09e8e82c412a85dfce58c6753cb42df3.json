{"ast":null,"code":"var axios = require('axios');\n\nlet loggedIn = false;\nUseAuth();\nexport default function UseAuth(username, password) {\n  var data = JSON.stringify({\n    \"username\": username,\n    \"password\": password\n  });\n  var config = {\n    method: 'post',\n    url: 'https://dev.hisprwanda.org/vmis/api/auth',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    data: data\n  };\n\n  if (localStorage.getItem('vmis')) {\n    console.log(username + \" ok \" + password);\n    axios(config).then(function (response) {\n      localStorage.removeItem('vmisJwt');\n      console.log(JSON.stringify(response.data.token));\n      localStorage.setItem('vmisJwt', response.data.token);\n      loggedIn = true;\n      console.log(1);\n    }).catch(function (error) {\n      loggedIn = false;\n      console.log(error);\n    });\n    console.log(2);\n    return loggedIn;\n  } else {\n    //localStorage.removeItem('vmisJwt');\n    //loggedIn = false;\n    return loggedIn;\n  }\n}\n_c = UseAuth;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseAuth\");","map":{"version":3,"sources":["/home/samuel/vmis-1/src/Context/UseAuth.js"],"names":["axios","require","loggedIn","UseAuth","username","password","data","JSON","stringify","config","method","url","headers","localStorage","getItem","console","log","then","response","removeItem","token","setItem","catch","error"],"mappings":"AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIC,QAAQ,GAAG,KAAf;AACAC,OAAO;AACP,eAAe,SAASA,OAAT,CAAiBC,QAAjB,EAA2BC,QAA3B,EAAqC;AAClD,MAAIC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAAE,gBAAYJ,QAAd;AAAwB,gBAAYC;AAApC,GAAf,CAAX;AACA,MAAII,MAAM,GAAG;AACXC,IAAAA,MAAM,EAAE,MADG;AAEXC,IAAAA,GAAG,EAAE,0CAFM;AAGXC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAHE;AAMXN,IAAAA,IAAI,EAAEA;AANK,GAAb;;AAQA,MAAIO,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAChCC,IAAAA,OAAO,CAACC,GAAR,CAAYZ,QAAQ,GAAG,MAAX,GAAoBC,QAAhC;AACAL,IAAAA,KAAK,CAACS,MAAD,CAAL,CACGQ,IADH,CACQ,UAAUC,QAAV,EAAoB;AACxBL,MAAAA,YAAY,CAACM,UAAb,CAAwB,SAAxB;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYT,IAAI,CAACC,SAAL,CAAeU,QAAQ,CAACZ,IAAT,CAAcc,KAA7B,CAAZ;AACAP,MAAAA,YAAY,CAACQ,OAAb,CAAqB,SAArB,EAAgCH,QAAQ,CAACZ,IAAT,CAAcc,KAA9C;AACAlB,MAAAA,QAAQ,GAAG,IAAX;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACD,KAPH,EAQGM,KARH,CAQS,UAAUC,KAAV,EAAiB;AACtBrB,MAAAA,QAAQ,GAAG,KAAX;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACD,KAXH;AAYER,IAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACF,WAAOd,QAAP;AACD,GAhBD,MAiBK;AACH;AACA;AACA,WAAOA,QAAP;AACD;AACF;KAhCuBC,O","sourcesContent":["var axios = require('axios');\nlet loggedIn = false;\nUseAuth();\nexport default function UseAuth(username, password) {\n  var data = JSON.stringify({ \"username\": username, \"password\": password });\n  var config = {\n    method: 'post',\n    url: 'https://dev.hisprwanda.org/vmis/api/auth',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    data: data\n  };\n  if (localStorage.getItem('vmis')) {\n    console.log(username + \" ok \" + password)\n    axios(config)\n      .then(function (response) {\n        localStorage.removeItem('vmisJwt');\n        console.log(JSON.stringify(response.data.token))\n        localStorage.setItem('vmisJwt', response.data.token);\n        loggedIn = true;\n        console.log(1)\n      })\n      .catch(function (error) {\n        loggedIn = false;\n        console.log(error);\n      });\n      console.log(2)\n    return loggedIn;\n  }\n  else {\n    //localStorage.removeItem('vmisJwt');\n    //loggedIn = false;\n    return loggedIn;\n  }\n}"]},"metadata":{},"sourceType":"module"}