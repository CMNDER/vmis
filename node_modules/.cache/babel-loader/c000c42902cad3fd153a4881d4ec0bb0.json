{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/samuel/vmis-1/src/Components/VaccinesSelectDropDown.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Form } from 'react-bootstrap';\n\nconst VaccinesList = props => {\n  _s();\n\n  const [vaccines, setVaccines] = useState(null);\n  var config = {\n    method: 'get',\n    url: 'http://localhost:8765/api/vaccines/',\n    headers: {\n      'auth': localStorage.getItem('vmisJwt')\n    }\n  };\n  useEffect(() => {\n    axios(config).then(function (response) {\n      setVaccines(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    return vaccines;\n  }, [props.dependency]);\n\n  const getSelectedText = elementId => {\n    let elt = document.getElementById(elementId);\n    if (elt.selectedIndex === -1) return null;\n    return elt.options[elt.selectedIndex].text;\n  };\n\n  const handleVaccineSelect = e => {\n    props.onChange({\n      vaccineId: e.target.value,\n      vaccineName: getSelectedText(\"vaccineSelectionDropdown\")\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-group\",\n    children: /*#__PURE__*/_jsxDEV(Form.Group, {\n      controlId: \"hospitalSelect\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Select Vaccine:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        as: \"select\",\n        custom: true,\n        onChange: handleVaccineSelect,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }, this), vaccines ? vaccines.map((x, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: vaccines[index].vaccine_uuid,\n          children: vaccines[index].shortname\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 56\n        }, this)) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 13\n  }, this);\n};\n\n_s(VaccinesList, \"siLUjQgavHviYsYQrww8hVppvs0=\");\n\n_c = VaccinesList;\nexport default VaccinesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"VaccinesList\");","map":{"version":3,"sources":["/home/samuel/vmis-1/src/Components/VaccinesSelectDropDown.js"],"names":["React","useEffect","useState","axios","Form","VaccinesList","props","vaccines","setVaccines","config","method","url","headers","localStorage","getItem","then","response","data","catch","error","console","log","dependency","getSelectedText","elementId","elt","document","getElementById","selectedIndex","options","text","handleVaccineSelect","e","onChange","vaccineId","target","value","vaccineName","map","x","index","vaccine_uuid","shortname"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,iBAArB;;AACA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAAA;;AAC5B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,IAAD,CAAxC;AAEA,MAAIO,MAAM,GAAG;AACTC,IAAAA,MAAM,EAAE,KADC;AAETC,IAAAA,GAAG,EAAE,qCAFI;AAGTC,IAAAA,OAAO,EAAE;AACL,cAAQC,YAAY,CAACC,OAAb,CAAqB,SAArB;AADH;AAHA,GAAb;AAOAb,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,KAAK,CAACM,MAAD,CAAL,CACKM,IADL,CACU,UAAUC,QAAV,EAAoB;AACtBR,MAAAA,WAAW,CAACQ,QAAQ,CAACC,IAAV,CAAX;AACH,KAHL,EAIKC,KAJL,CAIW,UAAUC,KAAV,EAAiB;AACpBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KANL;AAOA,WAAOZ,QAAP;AACH,GATQ,EASN,CAACD,KAAK,CAACgB,UAAP,CATM,CAAT;;AAUA,QAAMC,eAAe,GAAIC,SAAD,IAAe;AACnC,QAAIC,GAAG,GAAGC,QAAQ,CAACC,cAAT,CAAwBH,SAAxB,CAAV;AACA,QAAIC,GAAG,CAACG,aAAJ,KAAsB,CAAC,CAA3B,EAA8B,OAAO,IAAP;AAC9B,WAAOH,GAAG,CAACI,OAAJ,CAAYJ,GAAG,CAACG,aAAhB,EAA+BE,IAAtC;AACH,GAJD;;AAKA,QAAMC,mBAAmB,GAAIC,CAAD,IAAO;AAC/B1B,IAAAA,KAAK,CAAC2B,QAAN,CAAe;AAAEC,MAAAA,SAAS,EAAEF,CAAC,CAACG,MAAF,CAASC,KAAtB;AAA6BC,MAAAA,WAAW,EAAEd,eAAe,CAAC,0BAAD;AAAzD,KAAf;AACH,GAFD;;AAGA,sBAAQ;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,2BACJ,QAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,gBAAtB;AAAA,8BACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AAAc,QAAA,EAAE,EAAC,QAAjB;AAA0B,QAAA,MAAM,MAAhC;AAAiC,QAAA,QAAQ,EAAEQ,mBAA3C;AAAA,gCACI;AAAQ,UAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEKxB,QAAQ,GAAGA,QAAQ,CAAC+B,GAAT,CAAa,CAACC,CAAD,EAAIC,KAAJ,kBAAc;AAAQ,UAAA,KAAK,EAAEjC,QAAQ,CAACiC,KAAD,CAAR,CAAgBC,YAA/B;AAAA,oBAA0DlC,QAAQ,CAACiC,KAAD,CAAR,CAAgBE;AAA1E,WAAkDF,KAAlD;AAAA;AAAA;AAAA;AAAA,gBAA3B,CAAH,GAA+H,EAF5I;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADI;AAAA;AAAA;AAAA;AAAA,UAAR;AASH,CArCD;;GAAMnC,Y;;KAAAA,Y;AAuCN,eAAeA,YAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios'\nimport { Form } from 'react-bootstrap'\nconst VaccinesList = (props) => {\n    const [vaccines, setVaccines] = useState(null)\n\n    var config = {\n        method: 'get',\n        url: 'http://localhost:8765/api/vaccines/',\n        headers: {\n            'auth': localStorage.getItem('vmisJwt')\n        }\n    };\n    useEffect(() => {\n        axios(config)\n            .then(function (response) {\n                setVaccines(response.data)\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n        return vaccines\n    }, [props.dependency])\n    const getSelectedText = (elementId) => {\n        let elt = document.getElementById(elementId);\n        if (elt.selectedIndex === -1) return null;\n        return elt.options[elt.selectedIndex].text;\n    };\n    const handleVaccineSelect = (e) => {\n        props.onChange({ vaccineId: e.target.value, vaccineName: getSelectedText(\"vaccineSelectionDropdown\") })\n    }\n    return (<div className='form-group'>\n        <Form.Group controlId=\"hospitalSelect\">\n            <Form.Label>Select Vaccine:</Form.Label>\n            <Form.Control as=\"select\" custom onChange={handleVaccineSelect}>\n                <option value=\"\">...</option>\n                {vaccines ? vaccines.map((x, index) => <option value={vaccines[index].vaccine_uuid} key={index}>{vaccines[index].shortname}</option>) : \"\"}\n            </Form.Control>\n        </Form.Group>\n    </div>);\n}\n\nexport default VaccinesList;"]},"metadata":{},"sourceType":"module"}